(function(e){function t(t){for(var n,i,o=t[0],s=t[1],l=t[2],d=0,f=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(c,i)&&c[i]&&f.push(c[i][0]),c[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);u&&u(t);while(f.length)f.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,o=1;o<r.length;o++){var s=r[o];0!==c[s]&&(n=!1)}n&&(a.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},c={app:0},a=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=s;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23"),c=(r("fb6a"),r("4de4"),r("b0c0"),{class:"container mx-auto flex flex-col items-center bg-gray-100 p-4"}),a={class:"container"},i=Object(n["f"])("div",{class:"w-full my-4"},null,-1),o={class:"flex"},s={class:"max-w-xs"},l=Object(n["f"])("label",{for:"wallet",class:"block text-sm font-medium text-gray-700"},"Тикер",-1),u={class:"mt-1 relative rounded-md shadow-md"},d={class:"flex bg-white shadow-md p-1 rounded-md flex-wrap"},f=Object(n["f"])("svg",{class:"-ml-0.5 mr-2 h-6 w-6",xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 24 24",fill:"#ffffff"},[Object(n["f"])("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})],-1),p=Object(n["e"])(" Добавить "),b=Object(n["f"])("hr",{class:"w-full border-t border-gray-600 my-4"},null,-1),h=Object(n["e"])("Фильтр:"),g={key:0,class:"w-full border-t border-gray-600 my-4"},m={class:"mt-5 grid grid-cols-1 gap-5 sm:grid-cols-3"},j={class:"px-4 py-5 sm:p-6 text-center"},v={class:"text-sm font-medium text-gray-500 truncate"},y={class:"mt-1 text-3xl font-semibold text-gray-900"},O=Object(n["f"])("div",{class:"w-full border-t border-gray-200"},null,-1),x=Object(n["f"])("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"#718096","aria-hidden":"true"},[Object(n["f"])("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),w=Object(n["e"])("Удалить "),k={key:1,class:"w-full border-t border-gray-600 my-4"},C={key:2,class:"relative"},M={class:"text-lg leading-6 font-medium text-gray-900 my-8"},U={class:"flex items-end border-gray-600 border-b border-l h-64"},S=Object(n["f"])("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:svgjs":"http://svgjs.com/svgjs",version:"1.1",width:"30",height:"30",x:"0",y:"0",viewBox:"0 0 511.76 511.76",style:{"enable-background":"new 0 0 512 512"},"xml:space":"preserve"},[Object(n["f"])("g",null,[Object(n["f"])("path",{d:"M436.896,74.869c-99.84-99.819-262.208-99.819-362.048,0c-99.797,99.819-99.797,262.229,0,362.048    c49.92,49.899,115.477,74.837,181.035,74.837s131.093-24.939,181.013-74.837C536.715,337.099,536.715,174.688,436.896,74.869z     M361.461,331.317c8.341,8.341,8.341,21.824,0,30.165c-4.16,4.16-9.621,6.251-15.083,6.251c-5.461,0-10.923-2.091-15.083-6.251    l-75.413-75.435l-75.392,75.413c-4.181,4.16-9.643,6.251-15.083,6.251c-5.461,0-10.923-2.091-15.083-6.251    c-8.341-8.341-8.341-21.845,0-30.165l75.392-75.413l-75.413-75.413c-8.341-8.341-8.341-21.845,0-30.165    c8.32-8.341,21.824-8.341,30.165,0l75.413,75.413l75.413-75.413c8.341-8.341,21.824-8.341,30.165,0    c8.341,8.32,8.341,21.824,0,30.165l-75.413,75.413L361.461,331.317z",fill:"#718096","data-original":"#000000"})])],-1);function D(e,t,r,D,z,P){return Object(n["g"])(),Object(n["c"])("div",c,[Object(n["f"])("div",a,[i,Object(n["f"])("section",null,[Object(n["f"])("div",o,[Object(n["f"])("div",s,[l,Object(n["f"])("div",u,[Object(n["k"])(Object(n["f"])("input",{type:"text",name:"wallet",id:"wallet",class:"block w-full pr-10 border-gray-300 text-gray-900 focus:outline-none focus:ring-gray-500 focus:border-gray-500 sm:text-sm rounded-md",placeholder:"Например DOGE","onUpdate:modelValue":t[1]||(t[1]=function(e){return z.ticker=e}),onKeydown:t[2]||(t[2]=Object(n["l"])((function(){return P.addMain&&P.addMain.apply(P,arguments)}),["enter"])),onInput:t[3]||(t[3]=function(){return P.processTicker&&P.processTicker.apply(P,arguments)})},null,544),[[n["j"],z.ticker]])]),Object(n["f"])("div",d,[(Object(n["g"])(!0),Object(n["c"])(n["a"],null,Object(n["h"])(z.arr2.slice(0,4),(function(e){return Object(n["g"])(),Object(n["c"])("span",{onClick:t[4]||(t[4]=function(){return P.addMain&&P.addMain.apply(P,arguments)}),key:e.id,class:"inline-flex items-center px-2 m-1 rounded-md text-xs font-medium bg-gray-300 text-gray-800 cursor-pointer"},Object(n["i"])(e.Symbol),1)})),128)),Object(n["f"])("div",{style:z.errorDiv,class:"text-sm text-red-600"},"Такой тикер уже добавлен",4)])])]),Object(n["f"])("button",{type:"button",class:"my-4 inline-flex items-center py-2 px-4 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-full text-white bg-gray-600 hover:bg-gray-700 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",onClick:t[5]||(t[5]=function(){return P.addMain&&P.addMain.apply(P,arguments)})},[f,p])]),Object(n["f"])("div",null,[b,z.page>1?(Object(n["g"])(),Object(n["c"])("button",{key:0,onClick:t[6]||(t[6]=function(e){return z.page=z.page-1}),class:"my-4 mx-2 inline-flex items-center py-2 px-4 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-full text-white bg-gray-600 hover:bg-gray-700 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"},"Назад")):Object(n["d"])("",!0),z.hasNextPage?(Object(n["g"])(),Object(n["c"])("button",{key:1,onClick:t[7]||(t[7]=function(e){return z.page=z.page+1}),class:"my-4 mx-2 inline-flex items-center py-2 px-4 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-full text-white bg-gray-600 hover:bg-gray-700 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"},"Вперёд")):Object(n["d"])("",!0)]),Object(n["f"])("div",null,[h,Object(n["k"])(Object(n["f"])("input",{"onUpdate:modelValue":t[8]||(t[8]=function(e){return z.filter=e})},null,512),[[n["j"],z.filter]])]),z.tickers.length>0?(Object(n["g"])(),Object(n["c"])("hr",g)):Object(n["d"])("",!0),Object(n["f"])("dl",m,[(Object(n["g"])(!0),Object(n["c"])(n["a"],null,Object(n["h"])(P.filteredTickers(),(function(e){return Object(n["g"])(),Object(n["c"])("div",{key:e.name,onClick:function(t){return P.select(e)},class:[{"border-4":z.sel==e},"bg-white overflow-hidden shadow rounded-lg border-purple-800 border-solid cursor-pointer"]},[Object(n["f"])("div",j,[Object(n["f"])("dt",v,Object(n["i"])(e.name),1),Object(n["f"])("dd",y,Object(n["i"])(e.price),1)]),O,Object(n["f"])("button",{class:"flex items-center justify-center font-medium w-full bg-gray-100 px-4 py-4 sm:px-6 text-md text-gray-500 hover:text-gray-600 hover:bg-gray-200 hover:opacity-20 transition-all focus:outline-none",onClick:Object(n["m"])((function(t){return P.handleDelete(e)}),["stop"])},[x,w],8,["onClick"])],10,["onClick"])})),128))]),z.tickers.length>0?(Object(n["g"])(),Object(n["c"])("hr",k)):Object(n["d"])("",!0),z.sel?(Object(n["g"])(),Object(n["c"])("section",C,[Object(n["f"])("h3",M,Object(n["i"])(z.sel.name)+" - USD ",1),Object(n["f"])("div",U,[(Object(n["g"])(!0),Object(n["c"])(n["a"],null,Object(n["h"])(P.normalizeGraph(),(function(e,t){return Object(n["g"])(),Object(n["c"])("div",{key:t,style:{height:"".concat(e,"%")},class:"bg-purple-800 border w-10"},null,4)})),128))]),Object(n["f"])("button",{onClick:t[9]||(t[9]=function(e){return z.sel=null}),type:"button",class:"absolute top-0 right-0"},[S])])):Object(n["d"])("",!0)])])}var z=r("2909"),P=r("3835"),T=r("b85c"),_=r("1da1"),N=(r("96cf"),r("d3b7"),r("7db0"),r("4fad"),r("caad"),r("2532"),r("d81d"),r("159b"),{name:"App",data:function(){return{ticker:"",tickers:[],sel:null,graph:[],arr:[],arr2:[],arr3:[],el:null,errorDiv:"display:none",page:1,filter:"",hasNextPage:!0}},methods:{addMain:function(){event.target&&"wallet"!==event.target.name&&"button"!==event.target.type?(console.log(event.target.textContent),this.add3(event.target)):this.add2()},add3:function(e){console.log(e);var t=this.arr3.some((function(t){return t.toUpperCase()==e.textContent.toUpperCase()}));0==t?(this.arr3.push(e.textContent.toUpperCase()),this.ticker=e.textContent.toUpperCase(),this.add()):(alert("Такой эллемент уже существует"),this.errorDiv="display:block")},add:function(){var e={name:this.ticker,price:"-"};this.tickers.push(e),localStorage.setItem("cryptonomicon-list",JSON.stringify(this.tickers)),this.subscribeToUpdates(e.name)},select:function(e){this.sel=e,this.graph=[]},subscribeToUpdates:function(e){var t=this;setInterval(Object(_["a"])(regeneratorRuntime.mark((function r(){var n,c,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,fetch("https://min-api.cryptocompare.com/data/price?fsym="+e+"&tsyms=USD&api_key=49b5f8cf8b3cd9d09260be9a9763d0b6e287debd27487dec9ccc2eb37a79a8a0");case 2:return c=r.sent,r.next=5,c.json();case 5:a=r.sent,t.tickers.find((function(t){return t.name===e})).price=a.USD,(null===(n=t.sel)||void 0===n?void 0:n.name)===e&&t.graph.push(a.USD);case 8:case"end":return r.stop()}}),r)}))),3e3)},getGeneralList:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var r,n,c,a,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://min-api.cryptocompare.com/data/all/coinlist?summary=true");case 2:return r=t.sent,t.next=5,r.json();case 5:n=t.sent,c=Object(T["a"])(null===Object||void 0===Object?void 0:Object.entries(null===n||void 0===n?void 0:n.Data));try{for(c.s();!(a=c.n()).done;)i=Object(P["a"])(a.value,2),o=i[1],e.arr.push(o)}catch(s){c.e(s)}finally{c.f()}case 8:case"end":return t.stop()}}),t)})))()},add2:function(){var e=this;console.log(this.ticker);var t=this.arr3.some((function(t){return t.toUpperCase()==e.ticker.toUpperCase()}));console.log(t),0==t?(console.log("Добавил эллементы==== ".concat(this.arr3,"в список ")),this.arr3.push(this.ticker.toUpperCase()),this.add()):(alert("Такой эллемент уже существует"),this.errorDiv="display:block")},processTicker:function(){this.errorDiv="display:none",this.arr2=[];for(var e=0,t=Object.entries(this.arr);e<t.length;e++){var r=Object(P["a"])(t[e],2),n=r[1],c=n.FullName.toUpperCase(),a=n.Symbol.toUpperCase(),i=c.includes(this.ticker.toUpperCase()),o=a.includes(this.ticker.toUpperCase());(i>0||o>0)&&this.arr2.push(n)}},handleDelete:function(e){this.tickers=this.tickers.filter((function(t){return t!==e}))},filteredTickers:function(){var e=this,t=6*(this.page-1),r=6*this.page,n=this.tickers.filter((function(t){return t.name.includes(e.filter)}));return this.hasNextPage=n.length>r,n.slice(t,r)},normalizeGraph:function(){var e=Math.max.apply(Math,Object(z["a"])(this.graph)),t=Math.min.apply(Math,Object(z["a"])(this.graph));return this.graph.map((function(r){return 5+95*(r-t)/(e-t)}))}},watch:{filter:function(){this.page=1}},created:function(){var e=this;this.getGeneralList();var t=localStorage.getItem("cryptonomicon-list");t&&(this.tickers=JSON.parse(t),this.tickers.forEach((function(t){e.subscribeToUpdates(t.name)})))}});N.render=D;var V=N;r("ba8c");Object(n["b"])(V).mount("#app")},ba8c:function(e,t,r){}});
//# sourceMappingURL=app.1e25f441.js.map